I have receveied several reports that the keyboard will shut down or not work after about 30 seconds after the red key is pressed with battery powered.  

I will explain why this would happen in this page:  
On HackberryPi the 5V power is generated by the power bank SOC IP5306 as you can see from the schematic  
One feature about IP5306 or any other power bank is that it will detect the load current, if the load current is too small, the 5V will be cut off by IP5306. On the datasheet it says the detect value is 45ma.![image](https://github.com/user-attachments/assets/c883ea3c-9796-4c75-ab81-39c075815eb5)
  
On HackberryPi, only the USB HUB controller chip SL2.1A and the 3 USB ports are powered by 5V.
That means, once you press the red key next to the power switch, the USB HUB Controller chip will be powered, and then the RaspberryPi will receive the signal from the keyboard controller RP2040.  
And there is another feature about the USB HUB controller chip SL2.1A, it will draw about 60 ma current when it's connected to a USB Host and a USB Slave. Once you shut down the Pi and SL2.1A will lose the USB Host, now it draws only 20 ma current. So want I want: once you press the red key, SL2.1A draws more current than the minium load current of IP5306, and the 5V will be continuously genereted. But the fact is that there is a big difference of this value between different IP5306, some has 45ma, and some has more than 70ma. Which can cause the shut down of the 5V.  


### Solution for this: Plug a tiny USB device like a supertiny USB Stick(or any other USB device)![image](https://github.com/user-attachments/assets/a56c4bf0-11f3-4b48-b9f9-0af32b226f6f)
### into one of the 3 USB ports of HackberryPi so IP5306 can continuously output the 5V.  

### Also important to note: Once you plug the USB device, the IP5306 will continuously output 5V, you need to double tap the red key to cut the 5V power after you shut down HackberryPi.  
